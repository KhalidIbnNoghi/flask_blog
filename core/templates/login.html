{% extends "base.html" %}
{% block content %}
<p></p>
<div> Flask Blog </div>
<p></p>
<form action="{{ request.path }}" method="POST" class="...">
    
  {{ form.csrf_token }}
      
  {% with messages = get_flashed_messages(with_categories=true) %}
  <!-- Categories: success (green), info (blue), warning (yellow), danger (red) -->
  {% if messages %}
  {% for category, message in messages %}
  <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
  {{ message }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}
  {% endif %}
  {% endwith %}
  
  {% if request.path == '/register/' %}
  {{ form.username(class_="form-control",placeholder="Username")}}
      
  {% for error in form.username.errors %}
  {{ error }}
  {% endfor%}
      
  {% endif%}
      
  {{ form.email(class_="form-control",placeholder="Электронная почта")}}
      
  {% for error in form.email.errors %}
  {{ error }}
  {% endfor%}
      
  {{ form.password(class_="form-control",placeholder="Пароль")}}
  
  {% for error in form.password.errors %}
  {{ error }}
  {% endfor%}
      
  {% if request.path == '/register/' %}
  {{ form.cpwd(class_="form-control",placeholder="Confirm Password")}}
      
  {% for error in form.cpwd.errors %}
  {{ error }}
  {% endfor%}
      
  {% endif%}
      
  <button type="submit" class="btn btn-block btn-primary mb-3">
  Войти
  </button>
      
  <p>
  {% if request.path != '/register/' %}
  Впервые здесь?
  <a href="{{url_for('register')}}">Зарегистрируйтесь</a>
  {% else %}
  Already have an account?
  <a href="{{url_for('login')}}">Login</a>
  {% endif %}
  </p>


  {% endblock %}
